PS C:\Users\Kizito\livechatwithreact\advanced-livechat-saas> Set-Content -Path test-login.json -Value '{"email":"admin@example.com","password":"admin123"}' -Encoding utf8
PS C:\Users\Kizito\livechatwithreact\advanced-livechat-saas> curl.exe -X POST "https://talkavax-production.up.railway.app/api/auth/login" `
>>   -H "Content-Type: application/json" `
>>   --data-binary @test-login.json
{"success":true,"data":{"user":{"id":1,"email":"admin@example.com","name":"Admin User","role":"admin"},"sites":[{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"},{"id":"demo-site-id","domain":"demo-site.com","status":"active"},{"id":"suspended-site-id","domain":"suspended-site.com","status":"suspended"}],"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBleGFtcGxlLmNvbSIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2NTM5Njc3MywiZXhwIjoxNzY2MDAxNTczfQ.SRvU736pQz_RBBPwV7mZsClRTchBJEGphPxe3X0hJKc"}}
PS C:\Users\Kizito\livechatwithreact\advanced-livechat-saas> railway logs
Starting Container

> advanced-livechat-saas@1.0.0 start:railway:mysql
> node railway-mysql-start.js

ğŸ¬ Starting Advanced Live Chat SaaS with MySQL...
ğŸ”„ Set DATABASE_URL from MYSQL_URL
ğŸ“‹ MySQL Configuration:
  PORT: 3000
  NODE_ENV: production
  DATABASE_URL: SET (hidden)
  MONGO_URI: SET (hidden)
âœ… MySQL environment configured

ğŸ§ª Testing MySQL connection...
ğŸ” Testing Internal MySQL connection...
âœ… Internal MySQL client connected
ğŸ“Š MySQL info: { database: 'railway', version: '9.4.0' }
âœ… MySQL connection successful

ğŸ¯ Starting backend server with MySQL...
SERVER: ğŸ¬ PostgreSQL disabled by environment variables, skipping PostgreSQL initialization
SERVER: ğŸ”„ Connecting to MongoDB...
SERVER: ğŸ¬ FORCE_MYSQL detected, using MySQL exclusively
SERVER: âœ… MySQL database loaded for models (forced)
âœ… Database provider initialized with mysql
SERVER: ğŸš€ Advanced Live Chat SaaS server running on port 3000
ğŸ“Š Dashboard: http://localhost:3000/dashboard
ğŸ¯ Demo page: http://localhost:3000/demo.html
âœ… MySQL server appears to be running
âœ… MySQL server appears to be running
SERVER: ğŸ”§ Initializing MySQL database...
SERVER: âœ… MySQL database connected
SERVER: ğŸ“Š Current tables: [ undefined, undefined, undefined, undefined ]
SERVER: âœ… users table exists
SERVER: âœ… sites table exists
SERVER: âœ… visitors table exists
SERVER: âœ… payments table exists
SERVER: ğŸ‘¤ Inserting default MySQL users...
SERVER: âœ… Default MySQL users inserted
ğŸ‰ MySQL initialization completed!
SERVER: [2025-12-10T19:58:06.126Z] GET /health
SERVER: âœ… MongoDB connected successfully to Atlas!
ğŸ“Š Database: advanced-livechat
SERVER: âœ… MongoDB connection verified
ğŸ”§ Creating indexes...
SERVER: âœ… Indexes created successfully
SERVER: ğŸ“‹ MongoDB Version: 8.0.16
SERVER: ğŸ  Host: ac-xgidsaq-shard-00-02.tjk5ezx.mongodb.net:27017
SERVER: [2025-12-10T19:58:10.589Z] GET /health
âœ… MySQL health check passed: {
  status: 'ok',
  timestamp: '2025-12-10T19:58:10.590Z',
  database: 'mysql',
  mongodb: 'configured'
}
ğŸ‰ MySQL application ready at http://localhost:3000
ğŸŒ Health endpoint: http://localhost:3000/health
ğŸ¯ Test credentials: admin@example.com / admin123
SERVER: [2025-12-10T19:58:10.628Z] GET /health
âœ… MySQL health check passed: {
  status: 'ok',
  timestamp: '2025-12-10T19:58:10.628Z',
  database: 'mysql',
  mongodb: 'configured'
}
ğŸ‰ MySQL application ready at http://localhost:3000
ğŸŒ Health endpoint: http://localhost:3000/health
ğŸ¯ Test credentials: admin@example.com / admin123
SERVER: [2025-12-10T19:58:27.963Z] POST /api/auth/login
ğŸ“‹ Content-Type: application/json
ğŸ“ Content-Length: 51
SERVER: [2025-12-10T19:58:28.645Z] GET /vite.svg
SERVER: [2025-12-10T19:58:28.799Z] GET /vite.svg
SERVER: [2025-12-10T19:59:33.048Z] POST /api/auth/login
ğŸ“‹ Content-Type: application/json
ğŸ“ Content-Length: 56
SERVER: [2025-12-10T20:01:19.605Z] POST /api/auth/login
ğŸ“‹ Content-Type: application/json
ğŸ“ Content-Length: 51
SERVER: [2025-12-10T20:01:20.319Z] GET /vite.svg
SERVER: [2025-12-10T20:01:26.388Z] GET /vite.svg
SERVER: [2025-12-10T20:01:57.515Z] POST /api/auth/register
ğŸ“‹ Content-Type: application/json
ğŸ“ Content-Length: 71
SERVER ERROR: âŒ Error: Error: User already exists
    at AuthService.register (file:///app/backend/services/AuthService.js:22:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async register (file:///app/backend/controllers/authController.js:21:20)
SERVER: [2025-12-10T20:03:04.504Z] GET /vite.svg
SERVER: [2025-12-10T20:03:25.367Z] POST /api/auth/login
ğŸ“‹ Content-Type: application/json
ğŸ“ Content-Length: 51
SERVER: [2025-12-10T20:03:26.095Z] GET /vite.svg
SERVER: [2025-12-10T20:03:26.254Z] GET /vite.svg
PS C:\Users\Kizito\